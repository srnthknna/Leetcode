{"id":506209197,"lang":"java","time":"8 months, 3 weeks","timestamp":1623384532,"status_display":"Accepted","runtime":"5 ms","url":"/submissions/detail/506209197/","is_pending":"Not Pending","title":"Cheapest Flights Within K Stops","memory":"39.6 MB","code":"class Solution {\n    public int findCheapestPrice(int n, int[][] flights, int src, int dst, int k) {\n        if (flights.length == 0) return -1;\n        \n        Map<Integer, List<Node>> graph = buildGraph(flights); \n        \n        PriorityQueue<Node> pq = new PriorityQueue<Node>();\n        int[] minHops = new int[n];\n        Arrays.fill(minHops, -1);\n        \n        pq.add(new Node(src, 0, 0));\n        \n        while (!pq.isEmpty()) {\n            Node cur = pq.poll();\n            \n            if (cur.dst == dst)\n                return cur.cost;\n            if (cur.stop > k) continue;\n            if (minHops[cur.dst] != -1 && minHops[cur.dst] < cur.stop) continue;\n                minHops[cur.dst] = cur.stop;\n            \n            List<Node> next_hops = graph.getOrDefault(cur.dst, new ArrayList<Node>());\n            for (Node next_hop : next_hops) {\n                pq.add(new Node(next_hop.dst, cur.cost + next_hop.cost, cur.stop + 1));\n            }\n\n        }\n        return -1;\n    }\n    \n    private Map<Integer, List<Node>> buildGraph(int[][] flights) {\n        Map<Integer, List<Node>> graph = new HashMap<>();\n        for (int[] flight : flights) {\n            graph.putIfAbsent(flight[0], new ArrayList<Node>());\n            graph.get(flight[0]).add(new Node(flight[1], flight[2], 0));\n        }\n        return graph;\n    }\n    \n    class Node implements Comparable<Node> {\n        int dst;\n        int cost;\n        int stop;\n        \n        public Node(int dst, int cost, int stop) {\n            this.dst = dst;\n            this.cost = cost;\n            this.stop = stop;\n        }\n        \n        @Override\n        public int compareTo(Node o) {\n            return Integer.compare(this.cost, o.cost);\n        }\n    }\n}","compare_result":"1111111111111111111111111111111111111111111111111","title_slug":"cheapest-flights-within-k-stops"}