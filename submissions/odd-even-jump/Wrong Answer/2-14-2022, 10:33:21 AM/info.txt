{"id":641374354,"lang":"java","time":"1 week, 6 days","timestamp":1644863601,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/641374354/","is_pending":"Not Pending","title":"Odd Even Jump","memory":"N/A","code":"class Solution {\n\n    int[] firstSmallerToRight;\n    int[] firstLargerToRight;\n    public int oddEvenJumps(int[] arr) {\n        firstSmallerToRight = new int[arr.length];\n        firstLargerToRight = new int[arr.length];\n        Arrays.fill(firstLargerToRight, -1);\n        Arrays.fill(firstSmallerToRight, -1);\n        buildIncreasingStack(arr);\n        buildDecreasingStack(arr);\n\n        int ans = 0;\n        for (int i = 0; i < arr.length; i++) {\n            if (canJump(1, i, arr)) {\n                ans++;\n            }\n        }\n        return ans;\n    }\n    \n    private void buildIncreasingStack(int[] arr) {\n        Stack<Integer> stack = new Stack();\n        for (int i = 0; i < arr.length; i++) {\n            while (!stack.isEmpty() && arr[stack.peek()] >= arr[i]) {\n                firstSmallerToRight[stack.pop()] = i;\n            }\n            stack.push(i);\n        }\n    }\n\n    private void buildDecreasingStack(int[] arr) {\n        Stack<Integer> stack = new Stack();\n        for (int i = 0; i < arr.length; i++) {\n            while (!stack.isEmpty() && arr[stack.peek()] <= arr[i]) {\n                firstLargerToRight[stack.pop()] = i;\n            }\n            stack.push(i);\n        }\n    }\n    \n    private boolean canJump(int jumpCount, int currIndex, int[] arr) {\n        if (currIndex == arr.length - 1) return true;\n        if (jumpCount % 2 == 1) {\n            int nextIndex = firstLargerToRight[currIndex];\n            \n            if (nextIndex != -1) {\n                return canJump(jumpCount + 1, nextIndex, arr);\n            }\n        } else {\n            int nextIndex = firstSmallerToRight[currIndex];\n            if (nextIndex != -1) {\n                return canJump(jumpCount + 1, nextIndex, arr);\n            }\n        }\n        return false;\n    }\n    \n    private int canOddJump(int currIndex, int[] arr) {\n        int ans = -1, nextIndex = -1;\n        for (int j = currIndex + 1; j < arr.length; j++) {\n            if (arr[currIndex] <= arr[j] && (ans == -1 || ans > arr[j])) {\n                ans = arr[j];\n                nextIndex = j;\n            }\n        }\n        return nextIndex;\n    }\n    \n    private int canEvenJump(int currIndex, int[] arr) {\n        int ans = -1, nextIndex = -1;\n        for (int j = currIndex + 1; j < arr.length; j++) {\n            if (arr[currIndex] >= arr[j] && (ans == -1 || ans < arr[j])) {\n                ans = arr[j];\n                nextIndex = j;\n            }\n        }\n        return nextIndex;\n    }\n}","compare_result":"11111101111111111110111111111010110000100010000000000000000000000","title_slug":"odd-even-jump"}